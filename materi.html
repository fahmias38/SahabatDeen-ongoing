<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuranKu - Platform Belajar Al-Quran dan Keislaman</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <style>

 

        /* Mode Selection */
        .mode-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .mode-card {
            padding: 40px 30px;
            text-align: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        /* Search Bar */
        .search-container {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }

        .search-box {
            display: flex;
            width: 100%;
            max-width: 600px;
            background: rgba(31, 56, 64, 0.7);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(46, 203, 156, 0.2);
            transition: border-color 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .search-box:focus-within {
            border-color: var(--secondary-color);
        }

        .search-input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            color: var(--text-light-primary);
            font-size: 1rem;
            outline: none;
        }

        .search-input::placeholder {
            color: #8da9b0;
        }

        .search-btn {
            padding: 0 20px;
            background: var(--primary-color);
            border: none;
            color: white;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .search-btn:hover {
            background: var(--secondary-color);
        }

        /* Subject Tabs */
        .subject-tabs {
            justify-content: center;
            align-items: center;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 40px;
            border-bottom: 1px solid rgba(46, 203, 156, 0.1);
            padding-bottom: 20px;
        }

        .subject-tab {
            background: transparent;
            color: var(--text-light-secondary);
            border: 1px solid rgba(46, 203, 156, 0.2);
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            backdrop-filter: blur(2px);
        }

        .subject-tab:hover {
            border-color: var(--secondary-color);
            color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .subject-tab.active {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }

        .content-card {
            background: rgba(31, 56, 64, 0.6);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
            border: 1px solid rgba(46, 203, 156, 0.1);
            position: relative;
            backdrop-filter: blur(5px);
            justify-content: flex-start;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(26, 147, 111, 0.2);
            border-color: var(--secondary-color);
        }

        .premium-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #000;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            z-index: 10;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .content-thumbnail {
            height: 200px;
            position: relative;
            overflow: hidden;
        }

        .content-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .content-card:hover .content-thumbnail img {
            transform: scale(1.05);
        }

        .video-thumbnail {
            background: var(--gradient-primary);
        }

        .quiz-thumbnail {
            background: var(--gradient-secondary);
        }

        .material-thumbnail {
            background: var(--gradient-primary);
        }

        .content-info {
            padding: 25px;
        }

        .content-info h4 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--text-light-primary);
        }

        .content-info p {
            color: var(--text-light-secondary);
            margin-bottom: 15px;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .content-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: var(--text-light-secondary);
        }

        .instructor-info {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: var(--text-light-secondary);
        }

        .hidden {
            display: none;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Video Player Container */
        .video-player-container {
            background: rgba(31, 56, 64, 0.8);
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .video-player {
            position: relative;
            background: #000;
            width: 100%;
        }

        .video-element {
            width: 100%;
            height: 500px;
            background: #000;
            display: block;
        }

        /* Video Controls - Improved */
        .video-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.7) 70%, transparent 100%);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(10px);
            flex-wrap: wrap;
        }

        .video-player:hover .video-controls,
        .video-controls:hover {
            opacity: 1;
        }

        /* Control Buttons - Enhanced */
        .control-btn {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            padding: 10px 14px;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            min-width: 40px;
            height: 40px;
        }

        .control-btn:hover {
            background: rgba(46, 203, 156, 0.2);
            transform: scale(1.1);
        }

        .control-btn:active {
            transform: scale(0.95);
        }

        .control-btn i {
            font-size: 18px;
        }

        #videoPlayerContainer.fullscreen-active .video-element {
            width: 100vw !important;
            height: 100vh !important;
            object-fit: contain;
        }

        #videoPlayerContainer.fullscreen-active .video-controls {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 9999;
        }

        /* Progress Bar - Enhanced */
        .progress-bar {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            cursor: pointer;
            position: relative;
            overflow: visible;
            transition: height 0.2s ease;
            min-width: 150px;
        }

        .progress-bar:hover {
            height: 8px;
        }

        .progress-fill {
            height: 100%;
            background: var(--secondary-color);
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 14px;
            height: 14px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .progress-bar:hover .progress-fill::after {
            opacity: 1;
        }

        /* Time Display */
        .time-display {
            color: white;
            font-size: 14px;
            font-weight: 500;
            min-width: 100px;
            text-align: center;
            white-space: nowrap;
        }

        /* Volume Control - Enhanced */
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .volume-slider {
            width: 80px;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            outline: none;
            cursor: pointer;
            -webkit-appearance: none;
            appearance: none;
            transition: all 0.2s ease;
        }

        .volume-slider:hover {
            height: 8px;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--secondary-color);
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            transition: all 0.2s ease;
        }

        .volume-slider:hover::-webkit-slider-thumb {
            width: 18px;
            height: 18px;
            background: #26b88a;
        }

        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--secondary-color);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            transition: all 0.2s ease;
        }

        .volume-slider:hover::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: #26b88a;
        }

        /* Speed Select - Enhanced */
        .speed-select {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }

        .speed-select:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--secondary-color);
        }

        .speed-select option {
            background: #1a1a1a;
            color: white;
        }

        /* Fullscreen Button - Enhanced */
        .fullscreen-btn {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            padding: 10px 14px;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 18px;
            min-width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fullscreen-btn:hover {
            background: rgba(46, 203, 156, 0.2);
            transform: scale(1.1);
        }

        .fullscreen-btn:active {
            transform: scale(0.95);
        }

        /* Fullscreen Mode - Desktop */
        #videoPlayerContainer.fullscreen-active {
            background: #000;
        }

        #videoPlayerContainer.fullscreen-active .video-element {
            width: 100vw !important;
            height: 100vh !important;
            max-width: 100vw;
            max-height: 100vh;
            object-fit: contain;
        }

        #videoPlayerContainer.fullscreen-active .video-controls {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 9999;
        }

        /* Responsive - Mobile */
        @media (max-width: 768px) {
            .video-element {
                height: 300px;
            }

            .video-controls {
                padding: 12px 15px;
                gap: 8px;
            }
            
            .control-btn {
                padding: 8px 10px;
                min-width: 36px;
                height: 36px;
            }
            
            .control-btn i {
                font-size: 16px;
            }

            .time-display {
                font-size: 12px;
                min-width: 80px;
            }

            .volume-slider {
                width: 60px;
            }

            .speed-select {
                padding: 6px 10px;
                font-size: 13px;
            }

            /* Fullscreen di Mobile - Landscape Mode */
            #videoPlayerContainer.fullscreen-active .video-element {
                width: 100vw !important;
                height: 100vh !important;
                object-fit: contain;
            }
        }

        /* Landscape Orientation on Mobile */
        @media screen and (orientation: landscape) and (max-width: 896px) {
            #videoPlayerContainer.fullscreen-active .video-element {
                width: 100vw !important;
                height: 100vh !important;
                object-fit: contain;
            }
            
            #videoPlayerContainer.fullscreen-active .video-controls {
                padding: 10px 15px;
            }
        }

        .video-info {
            padding: 25px;
        }

        .video-info h3 {
            margin-bottom: 15px;
            color: #fff;
            font-size: 1.5rem;
        }

        .video-info p {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 15px;
            line-height: 1.6;
        }
        /* Quiz Styles */
        .quiz-container {
            background: rgba(31, 56, 64, 0.8);
            border-radius: var(--border-radius);
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(46, 203, 156, 0.2);
        }

        .quiz-timer {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .quiz-progress {
            color: var(--text-light-secondary);
            font-size: 1rem;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 25px;
            color: var(--text-light-primary);
            line-height: 1.6;
        }

        .options-container {
            display: grid;
            gap: 15px;
        }

        .option-btn {
            background: rgba(46, 203, 156, 0.1);
            border: 2px solid rgba(46, 203, 156, 0.3);
            color: var(--text-light-primary);
            padding: 15px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1rem;
        }

        .option-btn:hover {
            background: rgba(46, 203, 156, 0.2);
            border-color: var(--secondary-color);
            transform: translateX(5px);
        }

        .option-btn.selected {
            background: var(--secondary-color);
            border-color: var(--secondary-color);
            color: white;
        }

        .option-btn.correct {
            background: #27ae60;
            border-color: #27ae60;
            color: white;
        }

        .option-btn.incorrect {
            background: #e74c3c;
            border-color: #e74c3c;
            color: white;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .quiz-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .quiz-popup.active {
            opacity: 1;
            visibility: visible;
        }

        .quiz-popup-content {
            background: var(--bg-dark-secondary);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            transition: transform 0.4s ease;
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .quiz-popup.active .quiz-popup-content {
            transform: translateY(0);
        }

        .quiz-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(46, 203, 156, 0.1);
            border-radius: var(--border-radius);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .quiz-info-item {
            text-align: center;
        }

        .quiz-info-item .label {
            font-size: 0.9rem;
            color: var(--text-light-secondary);
            margin-bottom: 5px;
        }

        .quiz-info-item .value {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--secondary-color);
        }

        .quiz-results {
            background: rgba(31, 56, 64, 0.8);
            border-radius: var(--border-radius);
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .result-score {
            text-align: center;
            margin-bottom: 30px;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(var(--secondary-color) 0deg, var(--secondary-color) var(--score-angle, 0deg), rgba(46, 203, 156, 0.2) var(--score-angle, 0deg));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            position: relative;
        }

        .score-circle::before {
            content: '';
            position: absolute;
            width: 80px;
            height: 80px;
            background: var(--bg-dark-secondary);
            border-radius: 50%;
        }

        .score-text {
            position: relative;
            z-index: 1;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-light-primary);
        }

        .result-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(46, 203, 156, 0.1);
            border-radius: var(--border-radius);
        }

        .result-item {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
        }

        .result-item.correct {
            background: rgba(39, 174, 96, 0.2);
            border: 1px solid rgba(39, 174, 96, 0.3);
        }

        .result-item.incorrect {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid rgba(231, 76, 60, 0.3);
        }

        .result-item .number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .result-item.correct .number {
            color: #27ae60;
        }

        .result-item.incorrect .number {
            color: #e74c3c;
        }

        .result-item .label {
            font-size: 0.9rem;
            color: var(--text-light-secondary);
        }

        .result-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        /* Material Reading Styles */
        .material-container {
            background: rgba(31, 56, 64, 0.8);
            border-radius: var(--border-radius);
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .material-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(46, 203, 156, 0.2);
        }

        .reading-timer {
            background: var(--gradient-primary);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1rem;
        }

        .material-content {
            color: var(--text-light-primary);
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .material-content h2 {
            color: var(--secondary-color);
            margin: 30px 0 15px;
            font-size: 1.5rem;
        }

        .material-content h3 {
            color: var(--text-light-primary);
            margin: 25px 0 10px;
            font-size: 1.3rem;
        }

        .material-content h4 {
            color: var(--text-light-primary);
            margin: 20px 0 10px;
            font-size: 1.2rem;
        }

        .material-content p {
            margin-bottom: 15px;
        }

        .material-content ul, .material-content ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        .material-content li {
            margin-bottom: 8px;
        }

        .material-content .highlight {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .material-content .quote {
            background: rgba(46, 203, 156, 0.1);
            border-left: 4px solid var(--secondary-color);
            padding: 15px 20px;
            margin: 20px 0;
            font-style: italic;
            border-radius: 0 8px 8px 0;
        }

        /* Material Content Styling - Tambahkan setelah .material-content yang sudah ada */
.material-content {
    color: var(--text-light-primary);
    line-height: 1.8;
    font-size: 1.05rem;
    padding: 30px;
}

.material-content h1 {
    color: #34D399;
    font-size: 2rem;
    margin-top: 30px;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 3px solid rgba(52, 211, 153, 0.3);
    font-weight: 700;
}

.material-content h2 {
    color: #5EEAD4;
    font-size: 1.6rem;
    margin-top: 30px;
    margin-bottom: 15px;
    font-weight: 600;
}

.material-content h3 {
    color: #7DD3C0;
    font-size: 1.3rem;
    margin-top: 25px;
    margin-bottom: 12px;
    font-weight: 600;
}

.material-content p {
    margin-bottom: 18px;
    color: #d1d5db;
    text-align: justify;
}

.material-content strong {
    color: #34D399;
    font-weight: 600;
}

.material-content blockquote {
    background: rgba(52, 211, 153, 0.1);
    border-left: 4px solid #34D399;
    padding: 20px 25px;
    margin: 25px 0;
    border-radius: 8px;
    font-style: italic;
    color: #f3f4f6;
}

.material-content blockquote strong {
    color: #5EEAD4;
    font-size: 1.15rem;
    display: block;
    margin-bottom: 10px;
}

.material-content ul, .material-content ol {
    margin: 20px 0;
    padding-left: 30px;
}

.material-content li {
    margin-bottom: 12px;
    color: #d1d5db;
}

.material-container {
    background: linear-gradient(135deg, #1a3a3a 0%, #0d2626 100%);
    border-radius: 20px;
    padding: 0;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    overflow: hidden;
    margin-bottom: 30px;
}

.material-header {
    background: linear-gradient(135deg, #2d5a5a 0%, #1a3a3a 100%);
    padding: 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid rgba(52, 211, 153, 0.3);
}

.material-header h2 {
    color: #34D399;
    font-size: 1.8rem;
    margin: 0;
    font-weight: 700;
}

.reading-timer {
    background: rgba(52, 211, 153, 0.15);
    color: #34D399;
    padding: 12px 24px;
    border-radius: 50px;
    font-weight: 600;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 8px;
    border: 2px solid rgba(52, 211, 153, 0.3);
}

.reading-timer i {
    font-size: 1.1rem;
}

        /* Premium Popup */
        .premium-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .premium-popup.active {
            opacity: 1;
            visibility: visible;
        }

        .premium-content {
            background: #174438a0;
            border-radius: var(--border-radius);
            width: 90%;
            backdrop-filter: blur(10px);;
            border:#27ae60;
            max-width: 500px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            transition: transform 0.4s ease;
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .premium-popup.active .premium-content {
            transform: translateY(0);
        }

        .premium-icon {
            font-size: 4rem;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .premium-content h2 {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .premium-content p {
            color: var(--text-light-secondary);
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .premium-btn {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #000;
            padding: 12px 30px;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 700;
            margin-top: 10px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .premium-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.4);
        }

        .close-popup {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            color: var(--text-light-secondary);
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-popup:hover {
            color: var(--text-light-primary);
        }

        /* Responsive Styles */

        @media (max-width: 768px) {
            .video-element {
                height: 300px;
            }

            .quiz-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .quiz-info {
                grid-template-columns: 1fr;
            }

            .result-actions {
                flex-direction: column;
                align-items: center;
            }

            .video-controls {
                flex-wrap: wrap;
                gap: 10px;
            }

            .volume-control {
                order: 1;
                width: 100%;
                justify-content: cent er;
            }
        }

        :root {
  --card-height: 300px;
  --card-width: calc(var(--card-height) / 1.5);
}

        .card {
  width: var(--card-width);
  height: var(--card-height);
  position: relative;
  display: grid;
  justify-content: center;
  align-items: flex-end;
  padding: 0 36px;
  perspective: 2500px;
  margin: 0 50px;
}

.cover-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.wrapper {
  transition: all 0.5s;
  position: absolute;
  width: 100%;
  z-index: -1;
}

.card:hover .wrapper {
  transform: perspective(900px) translateY(-5%) rotateX(25deg) translateZ(0);
  box-shadow: 2px 35px 32px -8px rgba(0, 0, 0, 0.75);
  -webkit-box-shadow: 2px 35px 32px -8px rgba(0, 0, 0, 0.75);
  -moz-box-shadow: 2px 35px 32px -8px rgba(0, 0, 0, 0.75);
}

.wrapper::before,
.wrapper::after {
  content: "";
  opacity: 0;
  width: 100%;
  height: 80px;
  transition: all 0.5s;
  position: absolute;
  left: 0;
}
.wrapper::before {
  top: 0;
  height: 100%;
  background-image: linear-gradient(
    to top,
    transparent 46%,
    rgba(12, 13, 19, 0.5) 68%,
    rgba(12, 13, 19) 97%
  );
}
.wrapper::after {
  bottom: 0;
  opacity: 1;
  background-image: linear-gradient(
    to bottom,
    transparent 46%,
    rgba(12, 13, 19, 0.5) 68%,
    rgba(12, 13, 19) 97%
  );
}

.card:hover .wrapper::before,
.wrapper::after {
  opacity: 1;
}

.card:hover .wrapper::after {
  height: 120px;
}
.title {
    width: 100%;
    align-items: center;
    font-weight: bolder;
    background: linear-gradient(to bottom, rgba(226, 192, 0, 0.916) 0%, rgba(226, 192, 0, 0.2) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-family: poppins, sans-serif;
    font-size: 30px;
    transition: transform 0.5s, text-shadow 0.5s;
    text-shadow:
        0 2px 4px rgba(0,0,0,0.25),
        0 6px 12px rgba(226,192,0,0.15),
        0 1px 0 rgba(226, 192, 0, 0.916),
        2px 2px 8px rgba(226,192,0,0.25);
    transform: perspective(400px) translateZ(30px);
}
.card:hover .title {
  transform: translate3d(0%, -50px, 100px);
}

.character {
  width: 100%;
  opacity: 0;
  transition: all 0.5s;
  position: absolute;
  z-index: -1;
}

.card:hover .character {
  opacity: 1;
  transform: translate3d(0%, -60%, 100px);
}
    </style>
</head>
<body>
    <header class="header" id="mainHeader">
        <div class="container">
            <nav>
                <img class="nav-logo" src="Galeri/sahabatdeen.png" alt="Logo SahabatDeen">
                <ul class="nav-menu">
                    <a href="index.html">Beranda <span></span></a></li>
                    <a href="tentang.html" >Tentang Kami <span></span></a></li>
                    <a href="harga.html" >Berlangganan <span></span></a></li>
                    <a href="surah.html" >Surah <span></span></a></li>
                    <a href="materi.html" class="nav-link">Ngaji <span></span></a></li>
                    <a href="kontak.html" >Kontak <span></span></a></li>
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Home Page -->
    <div id="homePage">
        <section class="page-title-section">
            <div class="container">
                <h1>Belajar Al-Quran dan Ilmu Keislaman</h1>
                <p>Jelajahi koleksi lengkap video pembelajaran, bank soal, dan materi untuk memperdalam ilmu agama</p>
            </div>
        </section>

        

        <main class="section-padding">
            <div class="container">
                 
                <!-- Mode Selection -->
                <div id="modeSelection">
                    <h2 class="section-title">Pilih Metode Belajar</h2>
                    <p class="section-subtitle">Tentukan cara belajar yang paling sesuai dengan kebutuhan dan gaya belajarmu</p>
                    <div class="mode-selection">
                        <div class="mode-card" data-mode="video">
                            <div class="card">
                                <div class="wrapper">
                                <img src="Galeri/dakwah1.jpg" class="cover-image" />
                                </div>
                                <p class="title">VIDEO
                                    DAKWAH</p>
                                <img src="Galeri/ikon/video-icon.png" class="character" />
                            </div>
                        </div>
                        <div class="mode-card" data-mode="quiz">
                            <div class="card">
                                <div class="wrapper">
                                <img src="Galeri/ngaji.png" class="cover-image" />
                                </div>
                                <p class="title">KUIS ISLAMI</p>
                                <img src="Galeri/ikon/quiz-icon.png" class="character" />
                            </div>
                        </div>
                        <div class="mode-card" data-mode="material">
                            <div class="card">
                                <div class="wrapper">
                                <img src="Galeri/bacaan.png" class="cover-image" />
                                </div>
                                <p class="title">BACAAN MATERI</p>
                                <img src="Galeri/ikon/bookopen-icon.png" class="character" />
                            </div>
                        </div>
                        </div>
                    </div>
                </div>

                <!-- Content Section -->
                <div id="contentSection" class="hidden">
                    <button class="btn btn-secondary" onclick="backToModeSelection()" style="margin-bottom: 30px;">
                        <i class="fas fa-arrow-left"></i> Kembali ke Pilihan Mode
                    </button>
                    
                    <!-- Search Bar -->
                    <div class="search-container">
                        <div class="search-box">
                            <input type="text" class="search-input" id="searchInput" placeholder="Cari konten...">
                            <button class="search-btn" onclick="searchContent()">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="subject-tabs">
                        <button class="subject-tab active" data-subject="all">Semua</button>
                        <button class="subject-tab" data-subject="quran-hadis">Quran & Hadis</button>
                        <button class="subject-tab" data-subject="fiqih ibadah & muamalah">Fiqih Ibadah & Muamalah</button>
                        <button class="subject-tab" data-subject="fiqih keluarga & sosial">Fiqih Keluarga & Sosial</button>
                        <button class="subject-tab" data-subject="sejarah-islam">Sejarah Islam</button>
                        <button class="subject-tab" data-subject="akidah & teologi islam">Aqidah & Teologi Islam</button>
                        <button class="subject-tab" data-subject="bahasa-arab">Bahasa Arab</button>
                        <button class="subject-tab" data-subject="doa-dzikir">Doa dan Dzikir</button>
                        <button class="subject-tab" data-subject="pengembangan diri">Kehidupan & Pengembangan Diri Muslim</button>
                        <button class="subject-tab" data-subject="isu">Isu Kontemporer & Sosial</button>
                        <button class="subject-tab" data-subject="seni islam">Seni & Budaya Islam</button>
                        <button class="subject-tab" data-subject="teknologi">Teknologi & Aplikasi</button>
                    </div>

                    <div class="content-grid" id="contentGrid">
                        <!-- Konten akan diisi pakai JavaScript -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Video Player Page -->
    <div id="videoPage" class="hidden">
        <section class="page-title-section">
            <div class="container">
                <button class="btn btn-secondary" onclick="showHomePage()" style="margin-bottom: 20px;">
                    <i class="fas fa-arrow-left"></i> Kembali ke Materi Belajar
                </button>
                <h1 id="videoTitle">Video Pembelajaran</h1>
                <p id="videoDescription">Tonton video pembelajaran interaktif</p>
            </div>
        </section>

        <main class="section-padding">
            <div class="container">
                <div class="video-player-container">
                    <div class="video-player" id="videoPlayerContainer">
                        <video class="video-element" id="videoElement" preload="metadata">
                            <source src="" type="video/mp4">
                            Browser Kamu tidak mendukung pemutaran video.
                        </video>
                        <div class="video-controls" id="videoControls">
                            <button class="control-btn" id="playPauseBtn" onclick="togglePlay()"><i class="fas fa-play"></i></button>
                            <button class="control-btn" onclick="skipTime(-10)"><i class="fas fa-backward"></i> 10s</button>
                            <button class="control-btn" onclick="skipTime(10)">10s <i class="fas fa-forward"></i></button>
                            <div class="progress-bar" onclick="seekVideo(event)">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <span class="time-display" id="timeDisplay">0:00 / 0:00</span>
                            <div class="volume-control">
                                <button class="control-btn" id="muteBtn" onclick="toggleMute()"><i class="fas fa-volume-up"></i></button>
                                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.1" value="1" onchange="changeVolume(this.value)" oninput="updateVolumeDisplay(this.value)">
                            </div>
                            <select class="speed-select" id="speedSelect" onchange="changeSpeed(this.value)">
                                <option value="0.5">0.5x</option>
                                <option value="0.75">0.75x</option>
                                <option value="1" selected>1x</option>
                                <option value="1.25">1.25x</option>
                                <option value="1.5">1.5x</option>
                                <option value="2">2x</option>
                            </select>
                            <button class="fullscreen-btn" onclick="toggleFullscreen()"><i class="fas fa-expand"></i></button>
                        </div>
                    </div>
                    <div style="padding: 25px;">
                        <h3 id="videoInfoTitle" style="margin-bottom: 15px; color: var(--text-light-primary);"></h3>
                        <p id="videoInfoDescription" style="color: var(--text-light-secondary); margin-bottom: 15px;"></p>
                        <div style="display: flex; flex-wrap: wrap; gap: 20px; font-size: 0.9rem; color: var(--text-light-secondary);">
                            <span id="videoInstructor"></span>
                            <span id="videoDuration"></span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Quiz Page -->
    <div id="quizPage" class="hidden">
        <section class="page-title-section">
            <div class="container">
                <button class="btn btn-secondary" onclick="showHomePage()" style="margin-bottom: 20px;">
                    <i class="fas fa-arrow-left"></i> Kembali ke Materi Belajar
                </button>
                <h1 id="quizTitle">Bank Soal</h1>
                <p id="quizDescription">Uji kemampuan pemahaman Anda</p>
            </div>
        </section>

        <main class="section-padding">
            <div class="container">
                <div id="quizContainer" class="quiz-container">
                    <div class="quiz-header">
                        <div class="quiz-timer" id="quizTimer">Waktu: 30:00</div>
                        <div class="quiz-progress" id="quizProgress">Soal 1 dari 20</div>
                    </div>
                    
                    <div class="question-container">
                        <div class="question-text" id="questionText">Pertanyaan akan muncul di sini...</div>
                        <div class="options-container" id="optionsContainer">
                            <!-- Options akan diisi melalui JavaScript -->
                        </div>
                    </div>
                    
                    <div class="quiz-navigation">
                        <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>
                            <i class="fas fa-arrow-left"></i> Sebelumnya
                        </button>
                        <button class="btn" id="nextBtn" onclick="nextQuestion()">
                            Selanjutnya <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <div id="quizResults" class="quiz-results hidden">
                    <div class="result-score">
                        <div class="score-circle" id="scoreCircle">
                            <div class="score-text" id="scoreText">0%</div>
                        </div>
                        <h2 id="resultTitle">Hasil Quiz</h2>
                        <p id="resultMessage">Selamat! Kamu telah menyelesaikan quiz.</p>
                    </div>
                    
                    <div class="result-summary" id="resultSummary">
                        <div class="result-item correct">
                            <div class="number" id="correctCount">0</div>
                            <div class="label">Jawaban Benar</div>
                        </div>
                        <div class="result-item incorrect">
                            <div class="number" id="incorrectCount">0</div>
                            <div class="label">Jawaban Salah</div>
                        </div>
                    </div>
                    
                    <div class="result-actions">
                        <button class="btn" onclick="showHomePage()">
                            <i class="fas fa-home"></i> Kembali
                        </button>
                        <button class="btn btn-secondary" onclick="retakeQuiz()">
                            <i class="fas fa-redo"></i> Ulangi Kuis
                        </button>
                        <button class="btn btn-secondary" onclick="showReviewAnswers()">
                            <i class="fas fa-eye"></i> Lihat Pembahasan
                        </button>
                    </div>

                    <div id="answerReview" class="hidden" style="margin-top: 30px;">
                        <!-- Review jawaban akan diisi melalui JavaScript -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Material Page -->
<div id="materialPage" class="hidden">
    <section class="page-title-section">
        <div class="container">
            <h1 id="materialTitle">Materi Bacaan</h1>
            <p id="materialDescription">Baca dan pelajari materi dengan seksama</p>
            <button class="btn btn-secondary" onclick="showHomePage()" style="position: relative;
            top: 100px;
            left: 20px;
            z-index: 1000;
            margin-top: 0;">
                <i class="fas fa-arrow-left"></i> Kembali
            </button>
        </div>
    </section>

    <main class="section-padding">
        <div class="container">
            <div class="material-container">
                <div class="material-header">
                    <h2 id="materialInfoTitle">Judul Materi</h2>
                    <div class="reading-timer" id="readingTimer">
                        <i class="fas fa-clock"></i> Waktu Baca: 00:00
                    </div>
                </div>
                
                <!-- Material Content akan di-render di sini -->
                <div id="materialContent" class="material-content"></div>
            </div>
        </div>
    </main>
</div>

    <!-- Quiz Setup Popup -->
    <div class="quiz-popup" id="quizSetupPopup">
        <div class="quiz-popup-content">
            <span class="close-popup" onclick="closeQuizSetup()"><i class="fas fa-times"></i></span>
            <h2>Informasi Kuis</h2>
            <p>Siapkan diri Anda untuk mengerjakan kuis berikut:</p>

            <div class="quiz-info" id="quizInfo">
                <div class="quiz-info-item">
                    <div class="label">Jumlah Soal</div>
                    <div class="value" id="quizQuestionCount">20</div>
                </div>
                <div class="quiz-info-item">
                    <div class="label">Waktu</div>
                    <div class="value" id="quizTimeLimit">30 menit</div>
                </div>
                <div class="quiz-info-item">
                    <div class="label">Tingkat</div>
                    <div class="value" id="quizDifficulty">Mudah</div>
                </div>
            </div>
            
            <div style="margin-top: 20px;">
                <button class="btn" onclick="startQuiz()" id="startQuizBtn">
                    <i class="fas fa-play"></i> Mulai Kuis
                </button>
            </div>
        </div>
    </div>

    <!-- Premium Popup -->
    <div class="premium-popup" id="premiumPopup">
        <div class="premium-content">
            <span class="close-popup" onclick="closePremiumPopup()"><i class="fas fa-times"></i></span>
            <div class="premium-icon"><i class="fas fa-crown"></i></div>
            <h2>Konten Premium</h2>
            <p>Akses penuh ke semua konten premium hanya untuk anggota berlangganan. Berlangganan sekarang untuk mendapatkan manfaat:</p>
            <ul style="text-align: left; margin-bottom: 20px; padding-left: 20px; color: var(--text-light-secondary);">
                <li>Akses ke semua video pembelajaran premium</li>
                <li>Bank soal lengkap dengan pembahasan</li>
                <li>Materi bacaan eksklusif dan terupdate</li>
                <li>Prioritas dukungan dari tim ahli</li>
            </ul>
            <a class="btn premium-btn" href="harga.html">Berlangganan Sekarang</a>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <h3>SahabatDeen</h3>
                    <p>Platform Ngaji digital terdepan yang berkomitmen untuk membantu umat Muslim meningkatkan kualitas ibadah dan pemahaman Al-Quran melalui teknologi modern dan inovatif.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/share/19V61LMTji/" aria-label="Facebook"><img src="https://placehold.co/20x20/FFFFFF/000000?text=FB" alt="Facebook"></a>
                        <a href="https://www.instagram.com/fahmifw_?igsh=MW1jNDZzdW1mdHl3aQ==" aria-label="Instagram"><img src="https://placehold.co/20x20/FFFFFF/000000?text=IG" alt="Instagram"></a>
                        <a href="https://x.com/fahmiarifs2548" aria-label="Twitter"><img src="https://placehold.co/20x20/FFFFFF/000000?text=TW" alt="Twitter"></a>
                        <a href="https://youtube.com/@fahmiarifsetiawan6736?si=NFONK7VomBTCj9OS" aria-label="YouTube"><img src="https://placehold.co/20x20/FFFFFF/000000?text=YT" alt="YouTube"></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Navigasi Cepat</h4>
                    <ul>
                        <li><a href="index.html">Beranda</a></li>
                        <li><a href="tentang.html">Tentang Kami</a></li>
                        <li><a href="harga.html">Paket Berlangganan</a></li>
                        <li><a href="surah.html">Fitur Surah</a></li>
                        <li><a href="materi.html">Fitur Ngaji</a></li>
                        <li><a href="kontak.html">Hubungi Kami</a></li>
                        <li><a href="harga.html#faq">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Hubungi Kami</h4>
                    <p><img src="https://placehold.co/20x20/2E856E/FFFFFF?text=M" alt="Email Icon"> sahabatdeen@gmail.com</p>
                    <p><img src="https://placehold.co/20x20/2E856E/FFFFFF?text=P" alt="Telepon Icon"> (021) 1234-5678</p>
                    <p><img src="https://placehold.co/20x20/2E856E/FFFFFF?text=L" alt="Lokasi Icon"> Jl. Jenderal Soedirman Purwokerto Timur, Jawa Tengah</p>
                </div>
            </div>
            <hr class="footer-divider">
            <p class="footer-copy">&copy; <span id="currentYear"></span> SahabatDeen. Semua Hak Cipta Dilindungi.</p>
        </div>
    </footer>
    <!-- Load Marked.js untuk Markdown parsing -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        // Global Variables
        let contentData = {};
        let currentMode = '';
        let currentSubject = 'all';
        let currentContent = null;
        let searchQuery = '';
        let filteredContent = [];
        
        // Quiz Variables
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let quizTimer = null;
        let quizTimeLeft = 0;
        
        // Material Variables
        let readingTimer = null;
        let readingTime = 0;

        // DOM Elements
        const homePage = document.getElementById('homePage');
        const videoPage = document.getElementById('videoPage');
        const quizPage = document.getElementById('quizPage');
        const materialPage = document.getElementById('materialPage');
        const modeSelection = document.getElementById('modeSelection');
        const contentSection = document.getElementById('contentSection');
        const contentGrid = document.getElementById('contentGrid');
        const modeCards = document.querySelectorAll('.mode-card');
        const subjectTabs = document.querySelectorAll('.subject-tab');
        const searchInput = document.getElementById('searchInput');
        const premiumPopup = document.getElementById('premiumPopup');
        const quizSetupPopup = document.getElementById('quizSetupPopup');

        // Load content data from JSON file
        async function loadContentData() {
            try {
                const response = await fetch('content.json');
                contentData = await response.json();
            } catch (error) {
                console.error('Error loading content data:', error);
                // cadangan kalau gabisa load data json
                contentData = {
                    video: {
                        'quran-hadis': [
                            {
                                title: 'Tafsir Surat Al-Fatihah',
                                description: 'Penjelasan mendalam tentang makna dan tafsir surat pembuka Al-Quran',
                                duration: '45 menit',
                                instructor: 'Ustadz Ahmad Husein',
                                thumbnail: 'https://images.unsplash.com/photo-1519730722595-a5ff788dea4d?q=80&w=1470&auto=format&fit=crop',
                                videoSrc: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
                                premium: false
                            }
                        ]
                    },
                    quiz: {
                        'quran-hadis': [
                            {
                                title: 'Kuis Hafalan Surat Pendek',
                                description: 'Uji hafalan surat-surat pendek dalam Al-Quran',
                                questions: '5 soal',
                                timeLimit: '10 menit',
                                difficulty: 'Mudah',
                                premium: false,
                                questionsList: [
                                    {
                                        question: 'Berapa jumlah ayat dalam Surat Al-Fatihah?',
                                        options: ['5 ayat', '6 ayat', '7 ayat', '8 ayat'],
                                        answer: 2,
                                        explanation: 'Surat Al-Fatihah terdiri dari 7 ayat yang merupakan surat pembuka Al-Quran.'
                                    }
                                ]
                            }
                        ]
                    },
                    material: {
                        'quran-hadis': [
                            {
                                title: 'Panduan Tafsir Al-Quran',
                                description: 'Buku panduan memahami tafsir Al-Quran untuk pemula',
                                pages: '150 halaman',
                                format: 'PDF',
                                premium: false,
                                content: '<h3>Panduan Tafsir Al-Quran</h3><p>Materi lengkap untuk memahami tafsir Al-Quran.</p>'
                            }
                        ]
                    }
                };
            }
        }

        // Event Listeners
        modeCards.forEach(card => {
            card.addEventListener('click', () => {
                const mode = card.dataset.mode;
                selectMode(mode);
            });
        });

        subjectTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const subject = tab.dataset.subject;
                selectSubject(subject);
            });
        });

        searchInput.addEventListener('keyup', (e) => {
            if (e.key === 'Enter') {
                searchContent();
            }
        });

        // Hamburger menu for mobile
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // Navigation Functions
        function showHomePage() {
            homePage.classList.remove('hidden');
            videoPage.classList.add('hidden');
            quizPage.classList.add('hidden');
            materialPage.classList.add('hidden');
            premiumPopup.classList.remove('active');
            quizSetupPopup.classList.remove('active');
            
            // Stop timers
            if (quizTimer) {
                clearInterval(quizTimer);
                quizTimer = null;
            }
            if (readingTimer) {
                clearInterval(readingTimer);
                readingTimer = null;
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            
            // Update active mode card
            modeCards.forEach(card => card.classList.remove('active'));
            document.querySelector(`[data-mode="${mode}"]`).classList.add('active');
            
            // Show content section
            modeSelection.classList.add('hidden');
            contentSection.classList.remove('hidden');
            
            // Reset subject selection
            currentSubject = 'all';
            subjectTabs.forEach(tab => tab.classList.remove('active'));
            document.querySelector('[data-subject="all"]').classList.add('active');
            
            // Reset search
            searchInput.value = '';
            searchQuery = '';
            
            // Load content
            loadContent();
        }

        function selectSubject(subject) {
            currentSubject = subject;
            
            // Update active subject tab
            subjectTabs.forEach(tab => tab.classList.remove('active'));
            document.querySelector(`[data-subject="${subject}"]`).classList.add('active');
            
            // Load content
            loadContent();
        }

        function backToModeSelection() {
            modeSelection.classList.remove('hidden');
            contentSection.classList.add('hidden');
            modeCards.forEach(card => card.classList.remove('active'));
            currentMode = '';
        }

        function searchContent() {
            searchQuery = searchInput.value.toLowerCase().trim();
            loadContent();
        }

        function loadContent() {
            const modeData = contentData[currentMode];
            let allContent = [];
            
            if (currentSubject === 'all') {
                // Get all content from all subjects
                Object.keys(modeData).forEach(subject => {
                    if (modeData[subject]) {
                        modeData[subject].forEach((item, index) => {
                            allContent.push({...item, subject, id: `${subject}-${index}`});
                        });
                    }
                });
            } else {
                // Get content from specific subject
                if (modeData[currentSubject]) {
                    allContent = modeData[currentSubject].map((item, index) => ({...item, subject: currentSubject, id: `${currentSubject}-${index}`}));
                }
            }
            
            // Filter content based on search query
            if (searchQuery) {
                filteredContent = allContent.filter(item => 
                    item.title.toLowerCase().includes(searchQuery) || 
                    item.description.toLowerCase().includes(searchQuery)
                );
            } else {
                filteredContent = allContent;
            }
            
            renderContent(filteredContent);
        }

        function renderContent(content) {
            contentGrid.innerHTML = '';
            
            if (content.length === 0) {
                contentGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: var(--text-light-secondary);">
                        <h3 style="margin-bottom: 15px; font-size: 1.5rem;">Konten Tidak Ditemukan</h3>
                        <p>Tidak ada konten yang sesuai dengan pencarian Anda. Silakan coba kata kunci lain.</p>
                    </div>
                `;
                return;
            }
            
            content.forEach(item => {
                const card = createContentCard(item);
                contentGrid.appendChild(card);
            });
        }

        function createContentCard(item) {
            const card = document.createElement('div');
            card.className = 'content-card fade-in';
            
            const thumbnailClass = getThumbnailClass(currentMode);
            const metaInfo = getMetaInfo(item, currentMode);
            
            card.innerHTML = `
                <div class="content-thumbnail ${thumbnailClass}">
                    <img src="${item.thumbnail || 'Galeri/thumbnail.png'}" alt="${item.title}">
                    ${item.premium ? '<div class="premium-badge">PREMIUM</div>' : ''}
                </div>
                <div class="content-info">
                    <h4>${item.title}</h4>
                    <p>${item.description}</p>
                    ${item.instructor ? `<div class="instructor-info"><i class="fas fa-user"></i> ${item.instructor}</div>` : ''}
                    <div class="content-meta">
                        <span>${metaInfo}</span>
                    </div>
                    <button class="btn" onclick="openContent('${item.id}')">
                        ${getActionText(currentMode)}
                    </button>
                </div>
            `;
            
            return card;
        }

        function getThumbnailClass(mode) {
            switch(mode) {
                case 'video': return 'video-thumbnail';
                case 'quiz': return 'quiz-thumbnail';
                case 'material': return 'material-thumbnail';
                default: return '';
            }
        }

        function getMetaInfo(item, mode) {
            switch(mode) {
                case 'video': return `<i class="fas fa-clock"></i> ${item.duration || 'Durasi tidak tersedia'}`;
                case 'quiz': return `<i class="fas fa-list"></i> ${item.questions || 'Jumlah soal tidak tersedia'}`;
                case 'material': return `<i class="fas fa-file"></i> ${item.pages || 'Halaman tidak tersedia'}`;
                default: return '';
            }
        }

        function getActionText(mode) {
            switch(mode) {
                case 'video': return '<i class="fas fa-play"></i> Tonton Video';
                case 'quiz': return '<i class="fas fa-play"></i> Mulai Kuis';
                case 'material': return '<i class="fas fa-book-open"></i> Baca Materi';
                default: return 'Lihat Detail';
            }
        }

        function openContent(contentId) {
            const content = filteredContent.find(item => item.id === contentId);
            
            if (!content) return;
            
            currentContent = content;
            
            // cek konten premium
            if (content.premium) {
                showPremiumPopup();
                return;
            }
            
            switch(currentMode) {
                case 'video':
                    openVideoPlayer(content);
                    break;
                case 'quiz':
                    openQuizSetup(content);
                    break;
                case 'material':
                    openMaterial(content);
                    break;
            }
        }

        // Video Player
        function openVideoPlayer(content) {
            homePage.classList.add('hidden');
            videoPage.classList.remove('hidden');
            
            document.getElementById('videoTitle').textContent = content.title;
            document.getElementById('videoDescription').textContent = content.description;
            document.getElementById('videoInfoTitle').textContent = content.title;
            document.getElementById('videoInfoDescription').textContent = content.description;
            document.getElementById('videoInstructor').innerHTML = `<i class="fas fa-user"></i> ${content.instructor}`;
            document.getElementById('videoDuration').innerHTML = `<i class="fas fa-clock"></i> ${content.duration}`;
            
            // Set video source
            const videoElement = document.getElementById('videoElement');
            videoElement.src = content.videoSrc || 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4';
            
            // Initialize video
            initializeVideo();
        }

        function initializeVideo() {
            const videoElement = document.getElementById('videoElement');
            const playPauseBtn = document.getElementById('playPauseBtn');
            
            if (videoElement) {
                videoElement.addEventListener('loadedmetadata', () => {
                    updateVideoProgress();
                    updateVolumeSlider();
                });
                
                videoElement.addEventListener('timeupdate', () => {
                    updateVideoProgress();
                });
                
                videoElement.addEventListener('ended', () => {
                    playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                });
                
                // Load the video
                videoElement.load();
            }
        }

        function togglePlay() {
            const videoElement = document.getElementById('videoElement');
            const playPauseBtn = document.getElementById('playPauseBtn');
            
            if (!videoElement) return;
            
            if (videoElement.paused) {
                videoElement.play();
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                videoElement.pause();
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
        }

        function skipTime(seconds) {
            const videoElement = document.getElementById('videoElement');
            if (!videoElement) return;
            
            videoElement.currentTime = Math.max(0, Math.min(videoElement.duration, videoElement.currentTime + seconds));
        }

        function seekVideo(event) {
            const videoElement = document.getElementById('videoElement');
            if (!videoElement || !videoElement.duration) return;
            
            const progressBar = event.currentTarget;
            const rect = progressBar.getBoundingClientRect();
            const clickX = event.clientX - rect.left;
            const percentage = clickX / rect.width;
            videoElement.currentTime = percentage * videoElement.duration;
        }

        function changeSpeed(rate) {
            const videoElement = document.getElementById('videoElement');
            if (!videoElement) return;
            
            videoElement.playbackRate = parseFloat(rate);
        }

        function toggleMute() {
            const videoElement = document.getElementById('videoElement');
            const muteBtn = document.getElementById('muteBtn');
            const volumeSlider = document.getElementById('volumeSlider');
            
            if (!videoElement) return;
            
            videoElement.muted = !videoElement.muted;
            
            if (videoElement.muted) {
                muteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
                volumeSlider.value = 0;
            } else {
                muteBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                volumeSlider.value = videoElement.volume;
            }
            updateVolumeSlider();
        }

        function changeVolume(value) {
            const videoElement = document.getElementById('videoElement');
            const muteBtn = document.getElementById('muteBtn');
            
            if (!videoElement) return;
            
            videoElement.volume = parseFloat(value);
            videoElement.muted = (value == 0);
            
            if (videoElement.muted || value == 0) {
                muteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
            } else {
                muteBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
            }
            updateVolumeSlider();
        }

        function updateVolumeDisplay(value) {
            updateVolumeSlider();
        }

        function updateVolumeSlider() {
            const videoElement = document.getElementById('videoElement');
            const volumeSlider = document.getElementById('volumeSlider');
            
            if (!videoElement || !volumeSlider) return;
            
            const volume = videoElement.muted ? 0 : videoElement.volume;
            const percentage = volume * 100;
            
            volumeSlider.style.background = `linear-gradient(to right, var(--secondary-color) 0%, var(--secondary-color) ${percentage}%, rgba(255,255,255,0.3) ${percentage}%, rgba(255,255,255,0.3) 100%)`;
        }

        async function toggleFullscreen() {
    const videoContainer = document.getElementById('videoPlayerContainer');
    const fullscreenBtn = document.querySelector('.fullscreen-btn i');

    if (!document.fullscreenElement) {
        // masuk fullscreen
        try {
            if (videoContainer.requestFullscreen) {
                await videoContainer.requestFullscreen();
            } else if (videoContainer.webkitRequestFullscreen) {
                await videoContainer.webkitRequestFullscreen();
            } else if (videoContainer.msRequestFullscreen) {
                await videoContainer.msRequestFullscreen();
            }

            // jadiin landscape di mobile
            if (screen.orientation && screen.orientation.lock) {
                try {
                    await screen.orientation.lock('landscape');
                } catch (err) {
                    console.log('Orientation lock not supported:', err);
                }
            }

            fullscreenBtn.className = 'fas fa-compress';
            videoContainer.classList.add('fullscreen-active');
        } catch (err) {
            console.error('Error entering fullscreen:', err);
        }
    } else {
        // keluar fullscreen
        try {
            if (document.exitFullscreen) {
                await document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                await document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) {
                await document.msExitFullscreen();
            }

            // Unlock orientation when exiting fullscreen
            if (screen.orientation && screen.orientation.unlock) {
                screen.orientation.unlock();
            }

            fullscreenBtn.className = 'fas fa-expand';
            videoContainer.classList.remove('fullscreen-active');
        } catch (err) {
            console.error('Error exiting fullscreen:', err);
        }
    }
}

// Listen for fullscreen changes
document.addEventListener('fullscreenchange', handleFullscreenChange);
document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
document.addEventListener('mozfullscreenchange', handleFullscreenChange);
document.addEventListener('MSFullscreenChange', handleFullscreenChange);

function handleFullscreenChange() {
    const videoContainer = document.getElementById('videoPlayerContainer');
    const fullscreenBtn = document.querySelector('.fullscreen-btn i');

    if (document.fullscreenElement || document.webkitFullscreenElement || 
        document.mozFullScreenElement || document.msFullscreenElement) {
        fullscreenBtn.className = 'fas fa-compress';
        videoContainer.classList.add('fullscreen-active');

        // Optionally lock the screen orientation here if desired
        if (screen.orientation && screen.orientation.lock) {
            screen.orientation.lock('landscape').catch(err => console.log('Orientation lock failed:', err));
        }
    } else {
        fullscreenBtn.className = 'fas fa-expand';
        videoContainer.classList.remove('fullscreen-active');
        
        // Unlock orientation when exiting fullscreen
        if (screen.orientation && screen.orientation.unlock) {
            screen.orientation.unlock();
        }
    }
}

// Event listeners untuk fullscreen change
document.addEventListener('fullscreenchange', handleFullscreenChange);
document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
document.addEventListener('mozfullscreenchange', handleFullscreenChange);
document.addEventListener('MSFullscreenChange', handleFullscreenChange);

function handleFullscreenChange() {
    const videoContainer = document.getElementById('videoPlayerContainer');
    const fullscreenBtn = document.querySelector('.fullscreen-btn i');
    
    if (document.fullscreenElement || document.webkitFullscreenElement || 
        document.mozFullScreenElement || document.msFullscreenElement) {
        fullscreenBtn.className = 'fas fa-compress';
        videoContainer.classList.add('fullscreen-active');
    } else {
        fullscreenBtn.className = 'fas fa-expand';
        videoContainer.classList.remove('fullscreen-active');
        
        if (screen.orientation && screen.orientation.unlock) {
            screen.orientation.unlock();
        }
    }
}

        // Listen for fullscreen changes
        document.addEventListener('fullscreenchange', () => {
            const fullscreenBtn = document.querySelector('.fullscreen-btn i');
            if (document.fullscreenElement) {
                fullscreenBtn.className = 'fas fa-compress';
            } else {
                fullscreenBtn.className = 'fas fa-expand';
            }
        });

        function updateVideoProgress() {
            const videoElement = document.getElementById('videoElement');
            if (!videoElement) return;
            
            const progressFill = document.getElementById('progressFill');
            const timeDisplay = document.getElementById('timeDisplay');
            
            const currentTime = videoElement.currentTime;
            const duration = videoElement.duration;
            
            if (duration > 0) {
                const progress = (currentTime / duration) * 100;
                progressFill.style.width = `${progress}%`;
                timeDisplay.textContent = `${formatTime(currentTime)} / ${formatTime(duration)}`;
            }
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs.toString().padStart(2, '0')}`;
        }

        // Quiz Functions
        function openQuizSetup(content) {
            currentQuiz = content;
            document.getElementById('quizTitle').textContent = content.title;
            document.getElementById('quizDescription').textContent = content.description;
            
            // Update quiz info
            document.getElementById('quizQuestionCount').textContent = content.questions;
            document.getElementById('quizTimeLimit').textContent = content.timeLimit;
            document.getElementById('quizDifficulty').textContent = content.difficulty;
            
            quizSetupPopup.classList.add('active');
        }

        function closeQuizSetup() {
            quizSetupPopup.classList.remove('active');
        }

        function startQuiz() {
            if (!currentQuiz) return;
            
            closeQuizSetup();
            
            // Initialize quiz
            currentQuestionIndex = 0;
            userAnswers = [];
            
            // Parse time limit (convert "30 menit" to seconds)
            const timeMatch = currentQuiz.timeLimit.match(/(\d+)/);
            quizTimeLeft = timeMatch ? parseInt(timeMatch[1]) * 60 : 1800; // Default 30 minutes
            
            // Show quiz page
            homePage.classList.add('hidden');
            quizPage.classList.remove('hidden');
            
            // Hide results and show quiz container
            document.getElementById('quizContainer').classList.remove('hidden');
            document.getElementById('quizResults').classList.add('hidden');
            
            // Start timer
            startQuizTimer();
            
            // Load first question
            loadQuestion();
        }

        function startQuizTimer() {
            const timerElement = document.getElementById('quizTimer');
            
            quizTimer = setInterval(() => {
                quizTimeLeft--;
                
                const minutes = Math.floor(quizTimeLeft / 60);
                const seconds = quizTimeLeft % 60;
                timerElement.textContent = `Waktu: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (quizTimeLeft <= 0) {
                    clearInterval(quizTimer);
                    finishQuiz();
                }
            }, 1000);
        }

        function loadQuestion() {
            const question = currentQuiz.questionsList[currentQuestionIndex];
            
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('quizProgress').textContent = `Soal ${currentQuestionIndex + 1} dari ${currentQuiz.questionsList.length}`;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionBtn = document.createElement('button');
                optionBtn.className = 'option-btn';
                optionBtn.textContent = option;
                optionBtn.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionBtn);
            });
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').textContent = currentQuestionIndex === currentQuiz.questionsList.length - 1 ? 'Selesai' : 'Selanjutnya';
            
            // Restore previous answer if exists
            if (userAnswers[currentQuestionIndex] !== undefined) {
                const selectedOption = optionsContainer.children[userAnswers[currentQuestionIndex]];
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                }
            }
        }

        function selectOption(optionIndex) {
            // Remove previous selection
            document.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('selected'));
            
            // Add selection to clicked option
            document.querySelectorAll('.option-btn')[optionIndex].classList.add('selected');
            
            // Store answer
            userAnswers[currentQuestionIndex] = optionIndex;
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questionsList.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                finishQuiz();
            }
        }

        function finishQuiz() {
            // Stop timer
            if (quizTimer) {
                clearInterval(quizTimer);
                quizTimer = null;
            }
            
            // Calculate score
            let correctAnswers = 0;
            currentQuiz.questionsList.forEach((question, index) => {
                if (userAnswers[index] === question.answer) {
                    correctAnswers++;
                }
            });
            
            const totalQuestions = currentQuiz.questionsList.length;
            const incorrectAnswers = totalQuestions - correctAnswers;
            const score = Math.round((correctAnswers / totalQuestions) * 100);
            
            // Hide quiz container and show results
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('quizResults').classList.remove('hidden');
            
            // Update score display
            const scoreCircle = document.getElementById('scoreCircle');
            const scoreText = document.getElementById('scoreText');
            const resultTitle = document.getElementById('resultTitle');
            const resultMessage = document.getElementById('resultMessage');
            
            scoreText.textContent = `${score}%`;
            scoreCircle.style.setProperty('--score-angle', `${(score / 100) * 360}deg`);
            
            // Update result summary
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('incorrectCount').textContent = incorrectAnswers;
            
            if (score >= 80) {
                resultTitle.textContent = 'Excellent!';
                resultMessage.textContent = 'Selamat! Anda memiliki pemahaman yang sangat baik.';
            } else if (score >= 60) {
                resultTitle.textContent = 'Good Job!';
                resultMessage.textContent = 'Bagus! Terus tingkatkan pemahaman Anda.';
            } else {
                resultTitle.textContent = 'Keep Learning!';
                resultMessage.textContent = 'Jangan menyerah! Terus belajar untuk hasil yang lebih baik.';
            }
        }

        function showReviewAnswers() {
            const reviewContainer = document.getElementById('answerReview');
            reviewContainer.classList.remove('hidden');
            reviewContainer.innerHTML = '<h3 style="margin-bottom: 20px; color: var(--text-light-primary);">Pembahasan Soal</h3>';
            
            currentQuiz.questionsList.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.answer;
                
                const answerItem = document.createElement('div');
                answerItem.className = `answer-item ${isCorrect ? '' : 'incorrect'}`;
                answerItem.style.cssText = `
                    background: ${isCorrect ? 'rgba(39, 174, 96, 0.1)' : 'rgba(231, 76, 60, 0.1)'};
                    border-radius: var(--border-radius);
                    padding: 20px;
                    margin-bottom: 15px;
                    border-left: 4px solid ${isCorrect ? '#27ae60' : '#e74c3c'};
                `;
                
                answerItem.innerHTML = `
                    <div style="font-weight: 600; margin-bottom: 10px; color: var(--text-light-primary);">
                        ${index + 1}. ${question.question}
                    </div>
                    <div style="font-size: 0.9rem; color: var(--text-light-secondary); margin-bottom: 10px;">
                        <strong>Jawaban Anda:</strong> ${userAnswer !== undefined ? question.options[userAnswer] : 'Tidak dijawab'}<br>
                        <strong>Jawaban Benar:</strong> ${question.options[question.answer]}
                    </div>
                    <div style="margin-top: 10px; padding: 10px; background: rgba(0, 0, 0, 0.2); border-radius: 6px; font-style: italic;">
                        <strong>Penjelasan:</strong> ${question.explanation}
                    </div>
                `;
                
                reviewContainer.appendChild(answerItem);
            });
        }

        function retakeQuiz() {
            openQuizSetup(currentQuiz);
        }

        // fungsi buat materi - GANTI YANG LAMA DENGAN YANG INI
function openMaterial(content) {
    homePage.classList.add('hidden');
    materialPage.classList.remove('hidden');
    
    document.getElementById('materialTitle').textContent = content.title;
    document.getElementById('materialDescription').textContent = content.description;
    document.getElementById('materialInfoTitle').textContent = content.title;
    
    // Parse dan render Markdown content
    const materialContent = document.getElementById('materialContent');
    if (content.content) {
        // Cek apakah marked library tersedia
        if (typeof marked !== 'undefined') {
            materialContent.innerHTML = marked.parse(content.content);
        } else {
            // Fallback jika marked tidak tersedia
            materialContent.innerHTML = content.content.replace(/\n/g, '<br>');
        }
    }
    
    // Start reading timer
    readingTime = 0;
    if (readingTimer) {
        clearInterval(readingTimer);
    }
    startReadingTimer();
    
    // Scroll to top
    window.scrollTo(0, 0);
}

// Update fungsi startReadingTimer untuk menambahkan icon
function startReadingTimer() {
    const timerElement = document.getElementById('readingTimer');
    
    readingTimer = setInterval(() => {
        readingTime++;
        
        const minutes = Math.floor(readingTime / 60);
        const seconds = readingTime % 60;
        timerElement.innerHTML = `<i class="fas fa-clock"></i> Waktu Baca: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }, 1000);
}

        // Premium Functions
        function showPremiumPopup() {
            premiumPopup.classList.add('active');
        }

        function closePremiumPopup() {
            premiumPopup.classList.remove('active');
        }

        // Initialize
        window.addEventListener('load', async function() {
            await loadContentData();
            showHomePage();
        });
    </script>
</body>
</html>